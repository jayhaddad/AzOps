name: Hello World script

on:
  schedule:
    # This is an [optional] event to get latest Azure hierarchy of Management Group and Subscription in your Git in recurring manner. Default is every 6 hours.
    # Adjust frequency based on your organization need. Please note that * is a special character in YAML so you have to quote this string.
    - cron: "0 */6 * * *"
  workflow_dispatch:
    # To invoke this action from portal
    inputs:
      action:
        description: "Action to trigger pull"
        required: true
        default: "pull"
  repository_dispatch:
    # To invoke this action based on event/webhook
    types:
      - "Azure Activity Logs"
      - "GitHub CLI"
      - "PowerShell"
      - "Bash"

jobs:
  hello-world-script:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v1
    - name: Run PowerShell Hello World script
      if: github.event.action == 'script'
      run: pwsh -command ".\$GITHUB_WORKSPACE\entrypoint.ps1"
